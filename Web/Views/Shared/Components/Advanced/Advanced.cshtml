@model AdvancedViewModel
@using Core.Models.Components
@using Data.Entities.Users

<details class="mt-4 mb-25 pt-1">
    <summary class="mb-1 h5">@(Model.IsNotDefault ? "*" : "")Advanced Preferences</summary>

    <form asp-controller="@UserController.Name" asp-action="@nameof(UserController.EditAdvanced)" method="post"
          asp-route-email="@Model.Email" asp-route-token="@Model.Token"
         class="alert alert-secondary">

        <div class="mb-3">
            <div class="mb-3">
                <label asp-for="FootnoteCountTop" class="control-label">@Html.DisplayNameFor(_ => Model.FootnoteCountTop)</label>
                <div class="d-flex column-gap-2">
                    <output name="OutputFootnoteCountTop" for="@Html.IdFor(_ => Model.FootnoteCountTop)">@Model.FootnoteCountTop</output>
                    <div class="d-flex w-100">
                        <input asp-for="FootnoteCountTop" type="range" style="width:100%;" aria-describedby="user-footnote-help"
                               step="1" min="@Data.Entities.Users.User.Consts.FootnoteCountMin" max="@Data.Entities.Users.User.Consts.FootnoteCountMax"
                               oninput="OutputFootnoteCountTop.value = this.valueAsNumber" list="ListFootnoteCountTop" />
                        <datalist id="ListFootnoteCountTop">
                            <option value="@Data.Entities.Users.User.Consts.FootnoteCountTopDefault"></option>
                        </datalist>
                    </div>
                </div>
                <span asp-validation-for="FootnoteCountTop" class="text-danger"></span>
                <div id="user-footnote-help" class="form-text">@Html.DisplayDescriptionFor(_ => Model.FootnoteCountTop)</div>
            </div>
        </div>

        <div class="mb-3">
            <div class="mb-3">
                <label asp-for="FootnoteCountBottom" class="control-label">@Html.DisplayNameFor(_ => Model.FootnoteCountBottom)</label>
                <div class="d-flex column-gap-2">
                    <output name="OutputFootnoteCountBottom" for="@Html.IdFor(_ => Model.FootnoteCountBottom)">@Model.FootnoteCountBottom</output>
                    <div class="d-flex w-100">
                        <input asp-for="FootnoteCountBottom" type="range" style="width:100%;" aria-describedby="system-footnote-help"
                               step="1" min="@Data.Entities.Users.User.Consts.FootnoteCountMin" max="@Data.Entities.Users.User.Consts.FootnoteCountMax"
                               oninput="OutputFootnoteCountBottom.value = this.valueAsNumber" list="ListFootnoteCountBottom" />
                        <datalist id="ListFootnoteCountBottom">
                            <option value="@Data.Entities.Users.User.Consts.FootnoteCountBottomDefault"></option>
                        </datalist>
                    </div>
                </div>
                <span asp-validation-for="FootnoteCountBottom" class="text-danger"></span>
                <div id="system-footnote-help" class="form-text">@Html.DisplayDescriptionFor(_ => Model.FootnoteCountBottom)</div>
            </div>
        </div>

        <div class="row ">
            <div class="col">
                <input type="submit" value="Save" class="btn btn-secondary" />
            </div>
            <div class="col-auto align-self-end">
                <script src="https://liberapay.com/gscanlon21/widgets/button.js"></script>
                <noscript>
                    <a href="https://liberapay.com/gscanlon21/donate"><img alt="Donate using Liberapay" src="https://liberapay.com/assets/widgets/donate.svg"></a>
                </noscript>
            </div>
        </div>
    </form>
</details>
